# optimization
cocos资源优化

------

### 要点

包体基础优化

- 图片优化
- 动画优化
- 字体优化
- 声音优化

------

1. 优化的原理

   （1）找问题，定位问题

   （2）分析问题，是否合理，如果合理，改案子，如果不合理就解决

   （3）解决问题的

------

2.如何优化包体大小

- 分拆包的组成

  1.引擎基础优化

  解决：打包的时候看到的build文件下面找一个cocos2d.js的文件，这个就是我们游戏引擎的文件，这个优化的话，在设置模块里面找到你不需要的模块进行删除，这样可以减小包体。

  build下面的src 有一个setting.js 它是项目resource下资源的一个集合，所以优化就是把这个下面不要的资源都删除，只放我们需要的资源。

  2.图片体积（一张图片文件大小）

  （1）分辨率越大体积越大，太大可以修改分辨率的大小

  （2）大图使用jpg，小图使用png

  （3）无损压缩工具

  （4）图片重用（减少图片的数量）

  （5）九宫格（拉伸缩房）（小图）

  （6）打包图集：尽量没有空白区域，大小为2014*2014的大小

  （7）解决运行占用内存太大，改变图片的分辨率，减少大图的出现，或者重复使用一张图。

  3.动画

  （1）序列帧：一秒多少张图（图片很多，性能相对骨骼动画好一些）（减少图片的样张）

  （2）骨骼动画：体积稍微小一点，但是性能比帧动画差一些（运动代码影响性能）美术修改

  4.声音优化

  （1）使用格式工厂对码率，单双声道进行修改从而达到体积缩小的目的

  5.字体减小

  （1）就是自己做字体的时候不要把不用到的字符放到字体里面这样你使用的时候会变的很大

------

3.优化卡顿基础

提前进行预加载资源，这样在使用的时候不会出现基础的卡顿情况，更多的请移步到drawcall的优化
